{"version":3,"sources":["components/UI/modal/MyModal.module.css","components/UI/button/MyButton.module.css","components/UI/input/MyInput.module.css","components/UI/select/Myselect.module.css","components/UI/loader/Loader.module.css","components/UI/button/MyButton.jsx","components/PostItem.jsx","components/PostsList.jsx","components/UI/input/MyInput.jsx","components/PostForm.jsx","components/UI/select/MySelect.jsx","components/PostFilter.jsx","components/UI/modal/MyModal.jsx","hooks/usePosts.js","API/PostService.js","components/UI/loader/Loader.jsx","App.js","hooks/useFetching.js","index.js"],"names":["module","exports","MyButton","children","props","className","s","myBtn","PostItem","number","post","title","body","onClick","remove","PostsList","posts","length","style","textAlign","TransitionGroup","map","index","CSSTransition","timeout","classNames","id","MyInput","myInput","PostForm","create","useState","setPost","value","onChange","e","target","type","placeholder","preventDefault","newPost","Date","now","MySelect","label","options","defaultValue","mySelect","option","name","PostFilter","filter","setFilter","query","sort","selectedSort","MyModal","visible","setVisible","rootClasses","myModal","push","active","join","myModalContent","stopPropagation","usePosts","sortedPosts","useMemo","console","log","a","b","localeCompare","useSortedPosts","toLowerCase","includes","PostService","axios","get","response","data","Loader","loader","App","setPosts","modal","setModal","sortedAndSearchedPosts","callback","isLoading","setIsLoading","error","setError","message","useFetching","getAll","fetchPosts","isPostsLoading","postError","useEffect","marginTop","margin","display","justifyContent","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.adea1229.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__1f2pc\",\"myModalContent\":\"MyModal_myModalContent__p-vbj\",\"active\":\"MyModal_active__1Qt2D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__2m7gN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__2pj6X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mySelect\":\"Myselect_mySelect__AtYhw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1yqgP\",\"rotate\":\"Loader_rotate__3uyn1\"};","import React from 'react';\r\nimport s from './MyButton.module.css'\r\n\r\nconst MyButton = ({children,...props}) => {\r\n    return (\r\n        <button {...props} className={s.myBtn}>\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default MyButton;","import React from 'react';\r\nimport MyButton from \"./UI/button/MyButton\";\r\n\r\nconst PostItem = (props) => {\r\n    return (\r\n        <div className=\"post\">\r\n            <div className=\"post__content\">\r\n                <strong>{props.number}. {props.post.title}</strong>\r\n                <div>{props.post.body}</div>\r\n            </div>\r\n            <div className=\"post__btns\">\r\n                <MyButton onClick={()=>props.remove(props.post)}>Delete</MyButton>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostItem;","import React from 'react';\r\nimport PostItem from \"./PostItem\";\r\nimport {CSSTransition, TransitionGroup} from \"react-transition-group\";\r\n\r\nconst PostsList = ({posts, title, remove}) => {\r\n    if (!posts.length) {\r\n        return <h2 style={{textAlign: 'center'}}>Posts were not found!</h2>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1 style={{textAlign: 'center'}}>{title}</h1>\r\n            <TransitionGroup>{posts.map((post, index) =>\r\n                <CSSTransition\r\n                    key={post.id}\r\n                    timeout={500}\r\n                    classNames=\"post\">\r\n                    <PostItem number={index + 1}\r\n                              post={post}\r\n                              remove={remove}/>\r\n                </CSSTransition>\r\n            )}\r\n            </TransitionGroup>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostsList;","import React from 'react';\r\nimport s from './MyInput.module.css'\r\n\r\nconst MyInput = (props) => {\r\n    return (\r\n        <input className={s.myInput} {...props}/>\r\n    );\r\n};\r\n\r\nexport default MyInput;","import React, {useState} from 'react';\r\nimport MyInput from \"./UI/input/MyInput\";\r\nimport MyButton from \"./UI/button/MyButton\";\r\n\r\nconst PostForm = ({create}) => {\r\n    const [post, setPost] = useState({title: '', body: ''})\r\n\r\n    const addNewPost = (e) => {\r\n        e.preventDefault()\r\n        const newPost={...post,id:Date.now()}\r\n        create(newPost)\r\n        setPost({title: '', body: ''})\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <MyInput\r\n                value={post.title}\r\n                onChange={(e) => setPost({...post,title:e.target.value})}\r\n                type=\"text\"\r\n                placeholder=\"Post title\"/>\r\n            <MyInput\r\n                value={post.body}\r\n                onChange={(e) => setPost({...post, body:e.target.value})}\r\n                type=\" text\"\r\n                placeholder=\"Post description\"/>\r\n            <MyButton onClick={addNewPost}>Add post</MyButton>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PostForm;","import React from 'react';\r\nimport s from './Myselect.module.css'\r\n\r\nconst MySelect = ({label, options, defaultValue, value, onChange}) => {\r\n    return (<div className={s.mySelect}>\r\n            <label>{label}</label>\r\n            <select value={value}\r\n                    onChange={e => onChange(e.target.value)}>\r\n                {options.map(option =>\r\n                    <option key={option.value}\r\n                            value={option.value}>\r\n                        {option.name}\r\n                    </option>)}\r\n            </select>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MySelect;","import React from 'react';\r\nimport MyInput from \"./UI/input/MyInput\";\r\nimport MySelect from \"./UI/select/MySelect\";\r\n\r\nconst PostFilter = ({filter,setFilter}) => {\r\n    return (\r\n            <div>\r\n                <MyInput\r\n                    value={filter.query}\r\n                    onChange={e=>setFilter({...filter,query:e.target.value})}\r\n                    placeholder=\"Search\"\r\n                />\r\n                <MySelect label=\"Filter by\"\r\n                          value={filter.sort}\r\n                          onChange={selectedSort=>setFilter({...filter,sort:selectedSort})}\r\n                          defaultValue={'Filter by'}\r\n                          options={[{value: 'title', name: 'Title'},\r\n                              {value: 'body', name: 'Description'}]}/>\r\n            </div>\r\n    );\r\n};\r\n\r\nexport default PostFilter;","import React from 'react';\r\nimport s from './MyModal.module.css'\r\n\r\nconst MyModal = ({children, visible, setVisible}) => {\r\n    const rootClasses = [s.myModal]\r\n    if (visible) {\r\n        rootClasses.push(s.active)\r\n    }\r\n    return (\r\n        <div className={rootClasses.join(' ')}\r\n             onClick={() => setVisible(false)}>\r\n            <div className={s.myModalContent}\r\n                 onClick={e => e.stopPropagation()}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyModal;","import {useMemo} from \"react\";\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n    const sortedPosts = useMemo(() => {\r\n            console.log('finished')\r\n            if (sort) {\r\n                return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]))\r\n            }\r\n            return posts\r\n        }\r\n        , [sort, posts])\r\n    return sortedPosts\r\n}\r\n\r\nexport const usePosts=(posts, sort, query)=>{\r\n    const sortedPosts=useSortedPosts(posts,sort)\r\n    const sortedAndSearchedPosts = useMemo(() => {\r\n        return sortedPosts.filter(post => post.title.toLowerCase().includes(query.toLowerCase()))\r\n    }, [query, sortedPosts])\r\n    return sortedAndSearchedPosts\r\n}","import axios from \"axios\";\r\n\r\nexport default class PostService {\r\n    static async getAll() {\r\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts')\r\n        return response.data\r\n    }\r\n}","import React from 'react';\r\nimport s from './Loader.module.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={s.loader}>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;","import {useEffect, useState} from \"react\";\r\nimport \"./styles/App.css\"\r\nimport PostsList from \"./components/PostsList\";\r\nimport PostForm from \"./components/PostForm\";\r\nimport PostFilter from \"./components/PostFilter\";\r\nimport MyModal from \"./components/UI/modal/MyModal\";\r\nimport MyButton from \"./components/UI/button/MyButton\";\r\nimport {usePosts} from \"./hooks/usePosts\";\r\nimport PostService from \"./API/PostService\";\r\nimport Loader from \"./components/UI/loader/Loader\";\r\nimport {useFetching} from \"./hooks/useFetching\";\r\n\r\nfunction App() {\r\n    const [posts, setPosts] = useState([])\r\n    const [filter, setFilter] = useState({sort: '', query: ''})\r\n    const [modal, setModal] = useState(false)\r\n    const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query)\r\n    const [fetchPosts, isPostsLoading, postError] = useFetching(async () => {\r\n        const posts = await PostService.getAll()\r\n        setPosts(posts)\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchPosts()\r\n    }, [filter])\r\n\r\n    const createPost = (newPost) => {\r\n        setPosts([...posts, newPost])\r\n        setModal(false)\r\n    }\r\n\r\n\r\n    const removePost = (post) => {\r\n        setPosts(posts.filter(p => p.id !== post.id))\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {/*<button onClick={fetchPosts}>GET POSTS</button>*/}\r\n            <MyButton style={{marginTop: 50}} onClick={() => setModal(true)}>\r\n                Add post\r\n            </MyButton>\r\n            <MyModal visible={modal} setVisible={setModal}>\r\n                <PostForm create={createPost}/>\r\n            </MyModal>\r\n            <hr style={{margin: '15px 0'}}/>\r\n            <PostFilter\r\n                setFilter={setFilter}\r\n                filter={filter}/>\r\n            {postError &&\r\n            <h2>ERROR ${postError}</h2>}\r\n            {isPostsLoading\r\n                ? <div style={{display: 'flex', justifyContent: 'center', marginTop: 50}}>\r\n                    <Loader/>\r\n                </div>\r\n                : <PostsList posts={sortedAndSearchedPosts}\r\n                             title=\"Posts List 1\"\r\n                             remove={removePost}/>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import {useState} from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState('')\r\n\r\n    const fetching = async () => {\r\n        try {\r\n            setIsLoading(true)\r\n            await callback()\r\n        } catch (e) {\r\n            setError(e.message)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n    return [fetching, isLoading, error]\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}