{"version":3,"sources":["components/UI/modal/MyModal.module.css","components/UI/button/MyButton.module.css","components/UI/input/MyInput.module.css","components/UI/select/Myselect.module.css","components/UI/loader/Loader.module.css","components/UI/button/MyButton.jsx","context/index.js","components/UI/Navbar/Navbar.jsx","pages/About.jsx","hooks/useFetching.js","API/PostService.js","hooks/usePosts.js","utils/pages.js","components/UI/modal/MyModal.jsx","components/UI/input/MyInput.jsx","components/PostForm.jsx","components/UI/select/MySelect.jsx","components/PostFilter.jsx","components/UI/loader/Loader.jsx","components/PostItem.jsx","components/PostsList.jsx","components/UI/pagination/Pagination.jsx","pages/Posts.jsx","hooks/useObserver.js","pages/PostIdPage.jsx","pages/Login.jsx","router/routes.js","components/AppRouter.jsx","App.js","index.js"],"names":["module","exports","MyButton","children","props","className","s","myBtn","AuthContext","createContext","Navbar","useContext","isAuth","setIsAuth","onClick","localStorage","removeItem","to","About","useFetching","callback","useState","isLoading","setIsLoading","error","setError","a","message","PostService","limit","page","axios","get","params","_limit","_page","response","id","usePosts","posts","sort","query","sortedPosts","useMemo","console","log","b","localeCompare","useSortedPosts","filter","post","title","toLowerCase","includes","getPagesCount","totalCount","Math","ceil","MyModal","visible","setVisible","rootClasses","myModal","push","active","join","myModalContent","e","stopPropagation","MyInput","myInput","PostForm","create","body","setPost","value","onChange","target","type","placeholder","preventDefault","newPost","Date","now","MySelect","label","options","defaultValue","mySelect","map","option","name","PostFilter","setFilter","selectedSort","Loader","loader","PostItem","navigate","useNavigate","remove","PostsList","length","style","textAlign","TransitionGroup","index","CSSTransition","timeout","classNames","number","Pagination","totalPages","changePage","pagesArray","result","i","getPagesArray","p","Posts","setPosts","modal","setModal","setTotalPages","setLimit","setPage","sortedAndSearchedPosts","lastElement","useRef","getAll","data","headers","fetchPosts","isPostsLoading","postError","ref","canLoad","observer","useEffect","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","useObserver","marginTop","margin","display","justifyContent","height","background","PostIdPage","useParams","comments","setComments","getbyId","fetchPostsById","getCommentsByPostId","fetchComments","isCommentsLoading","c","email","Login","onSubmit","setItem","privateRoutes","path","component","exact","publicRoutes","AppRouter","route","element","App","getItem","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.83ac0a88.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__3Tpmo\",\"myModalContent\":\"MyModal_myModalContent__puzmP\",\"active\":\"MyModal_active__2HDbK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__1b2bO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__1QlMJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mySelect\":\"Myselect_mySelect__yTsKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3j8ga\",\"rotate\":\"Loader_rotate__3zfgg\"};","import React from 'react';\r\nimport s from './MyButton.module.css'\r\n\r\nconst MyButton = ({children,...props}) => {\r\n    return (\r\n        <button {...props} className={s.myBtn}>\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default MyButton;","import {createContext} from \"react\";\r\n\r\nexport const AuthContext=createContext(null)","import React, {useContext} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport MyButton from \"../button/MyButton\";\r\nimport {AuthContext} from \"../../../context\";\r\n\r\nconst Navbar = () => {\r\n    const {isAuth, setIsAuth} = useContext(AuthContext)\r\n    const logout = () => {\r\n        setIsAuth(false)\r\n        localStorage.removeItem('auth')\r\n    }\r\n    return (\r\n        <div className=\"navbar\">\r\n            {isAuth &&\r\n            <MyButton onClick={logout}>Log out</MyButton>\r\n            }\r\n            <div className=\"navbar__links\">\r\n                <Link to=\"/about\">About</Link>\r\n                <Link to=\"/posts\">Posts</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst About = () => {\r\n    return (\r\n        <h1>\r\n            This is about page\r\n        </h1>\r\n    );\r\n};\r\n\r\nexport default About;","import {useState} from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState('')\r\n\r\n    const fetching = async (...args) => {\r\n        try {\r\n            setIsLoading(true)\r\n            await callback(...args)\r\n        } catch (e) {\r\n            setError(e.message)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n    return [fetching, isLoading, error]\r\n}","import axios from \"axios\";\r\n\r\nexport default class PostService {\r\n    static async getAll(limit = 10, page = 1) {\r\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n            params: {\r\n                _limit: limit,\r\n                _page: page\r\n            }\r\n        })\r\n        return response\r\n    }\r\n\r\n    static async getbyId(id) {\r\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts/' + id)\r\n        return response\r\n    }\r\n\r\n    static async getCommentsByPostId(id) {\r\n        const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}/comments`)\r\n        return response\r\n    }\r\n}","import {useMemo} from \"react\";\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n    const sortedPosts = useMemo(() => {\r\n            console.log('finished')\r\n            if (sort) {\r\n                return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]))\r\n            }\r\n            return posts\r\n        }\r\n        , [sort, posts])\r\n    return sortedPosts\r\n}\r\n\r\nexport const usePosts=(posts, sort, query)=>{\r\n    const sortedPosts=useSortedPosts(posts,sort)\r\n    const sortedAndSearchedPosts = useMemo(() => {\r\n        return sortedPosts.filter(post => post.title.toLowerCase().includes(query.toLowerCase()))\r\n    }, [query, sortedPosts])\r\n    return sortedAndSearchedPosts\r\n}","export const getPagesCount = (totalCount, limit) => {\r\n    return Math.ceil(totalCount / limit)\r\n}\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n    let result = []\r\n    for (let i = 0; i < totalPages; i++) {\r\n        result.push(i + 1)\r\n    }\r\n    return result\r\n}","import React from 'react';\r\nimport s from './MyModal.module.css'\r\n\r\nconst MyModal = ({children, visible, setVisible}) => {\r\n    const rootClasses = [s.myModal]\r\n    if (visible) {\r\n        rootClasses.push(s.active)\r\n    }\r\n    return (\r\n        <div className={rootClasses.join(' ')}\r\n             onClick={() => setVisible(false)}>\r\n            <div className={s.myModalContent}\r\n                 onClick={e => e.stopPropagation()}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyModal;","import React from 'react';\r\nimport s from './MyInput.module.css'\r\n\r\nconst MyInput = (props) => {\r\n    return (\r\n        <input className={s.myInput} {...props}/>\r\n    );\r\n};\r\n\r\nexport default MyInput;","import React, {useState} from 'react';\r\nimport MyInput from \"./UI/input/MyInput\";\r\nimport MyButton from \"./UI/button/MyButton\";\r\n\r\nconst PostForm = ({create}) => {\r\n    const [post, setPost] = useState({title: '', body: ''})\r\n\r\n    const addNewPost = (e) => {\r\n        e.preventDefault()\r\n        const newPost={...post,id:Date.now()}\r\n        create(newPost)\r\n        setPost({title: '', body: ''})\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <MyInput\r\n                value={post.title}\r\n                onChange={(e) => setPost({...post,title:e.target.value})}\r\n                type=\"text\"\r\n                placeholder=\"Post title\"/>\r\n            <MyInput\r\n                value={post.body}\r\n                onChange={(e) => setPost({...post, body:e.target.value})}\r\n                type=\" text\"\r\n                placeholder=\"Post description\"/>\r\n            <MyButton onClick={addNewPost}>Add post</MyButton>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PostForm;","import React from 'react';\r\nimport s from './Myselect.module.css'\r\n\r\nconst MySelect = ({label, options, defaultValue, value, onChange}) => {\r\n    return (<div className={s.mySelect}>\r\n            <label>{label}</label>\r\n            <select value={value}\r\n                    onChange={e => onChange(e.target.value)}>\r\n                {options.map(option =>\r\n                    <option key={option.value}\r\n                            value={option.value}>\r\n                        {option.name}\r\n                    </option>)}\r\n            </select>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MySelect;","import React from 'react';\r\nimport MyInput from \"./UI/input/MyInput\";\r\nimport MySelect from \"./UI/select/MySelect\";\r\n\r\nconst PostFilter = ({filter,setFilter}) => {\r\n    return (\r\n            <div>\r\n                <MyInput\r\n                    value={filter.query}\r\n                    onChange={e=>setFilter({...filter,query:e.target.value})}\r\n                    placeholder=\"Search\"\r\n                />\r\n                <MySelect label=\"Filter by\"\r\n                          value={filter.sort}\r\n                          onChange={selectedSort=>setFilter({...filter,sort:selectedSort})}\r\n                          // defaultValue={'Filter by'}\r\n                          options={[{value: 'title', name: 'Title'},\r\n                              {value: 'body', name: 'Description'}]}/>\r\n            </div>\r\n    );\r\n};\r\n\r\nexport default PostFilter;","import React from 'react';\r\nimport s from './Loader.module.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={s.loader}>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;","import React from 'react';\r\nimport MyButton from \"./UI/button/MyButton\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nconst PostItem = (props) => {\r\n    let navigate=useNavigate()\r\n    console.log(navigate)\r\n    return (\r\n        <div className=\"post\">\r\n            <div className=\"post__content\">\r\n                <strong>{props.post.id}. {props.post.title}</strong>\r\n                <div>{props.post.body}</div>\r\n            </div>\r\n            <div className=\"post__btns\">\r\n                <MyButton onClick={()=>navigate(`/posts/${props.post.id}`)}>Open</MyButton>\r\n                <MyButton onClick={()=>props.remove(props.post)}>Delete</MyButton>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostItem;","import React from 'react';\r\nimport PostItem from \"./PostItem\";\r\nimport {CSSTransition, TransitionGroup} from \"react-transition-group\";\r\n\r\nconst PostsList = ({posts, title, remove}) => {\r\n    if (!posts.length) {\r\n        return <h2 style={{textAlign: 'center'}}>Posts were not found!</h2>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1 style={{textAlign: 'center'}}>{title}</h1>\r\n            <TransitionGroup>{posts.map((post, index) =>\r\n                <CSSTransition\r\n                    key={post.id}\r\n                    timeout={500}\r\n                    classNames=\"post\">\r\n                    <PostItem number={index + 1}\r\n                              post={post}\r\n                              remove={remove}/>\r\n                </CSSTransition>\r\n            )}\r\n            </TransitionGroup>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostsList;","import React from 'react';\r\nimport {getPagesArray} from \"../../../utils/pages\";\r\n\r\nconst Pagination = ({totalPages, page, changePage}) => {\r\n    let pagesArray = getPagesArray(totalPages)\r\n\r\n    return (\r\n        <div className=\"page__wrapper\">\r\n            {pagesArray.map(p =>\r\n                <span\r\n                    onClick={() => changePage(p)}\r\n                    key={p}\r\n                    className={page === p ? 'page page__current' : 'page'}>{p}</span>\r\n            )}\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Pagination;","import {useEffect, useRef, useState} from \"react\";\r\nimport \"../styles/App.css\"\r\nimport {useFetching} from \"../hooks/useFetching\";\r\nimport PostService from \"../API/PostService\";\r\nimport {usePosts} from \"../hooks/usePosts\";\r\nimport {getPagesCount} from \"../utils/pages\";\r\nimport MyButton from \"../components/UI/button/MyButton\";\r\nimport MyModal from \"../components/UI/modal/MyModal\";\r\nimport PostForm from \"../components/PostForm\";\r\nimport PostFilter from \"../components/PostFilter\";\r\nimport Loader from \"../components/UI/loader/Loader\";\r\nimport PostsList from \"../components/PostsList\";\r\nimport Pagination from \"../components/UI/pagination/Pagination\";\r\nimport {useObserver} from \"../hooks/useObserver\";\r\nimport MySelect from \"../components/UI/select/MySelect\";\r\n\r\nfunction Posts() {\r\n    const [posts, setPosts] = useState([])\r\n    const [filter, setFilter] = useState({sort: '', query: ''})\r\n    const [modal, setModal] = useState(false)\r\n    const [totalPages, setTotalPages] = useState(0)\r\n    const [limit, setLimit] = useState(10)\r\n    const [page, setPage] = useState(1)\r\n    const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query)\r\n    const lastElement = useRef()\r\n\r\n    const [fetchPosts, isPostsLoading, postError] = useFetching(async () => {\r\n        const response = await PostService.getAll(limit, page)\r\n        setPosts([...posts, ...response.data])\r\n        const totalCount = response.headers['x-total-count']\r\n        setTotalPages(getPagesCount(totalCount, limit))\r\n    })\r\n\r\n    useObserver(lastElement, page < totalPages, isPostsLoading, () => {\r\n        setPage(page + 1)\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchPosts(limit, page)\r\n    }, [page,limit])\r\n\r\n    const createPost = (newPost) => {\r\n        setPosts([...posts, newPost])\r\n        setModal(false)\r\n    }\r\n\r\n\r\n    const removePost = (post) => {\r\n        setPosts(posts.filter(p => p.id !== post.id))\r\n    }\r\n\r\n    const changePage = (page) => {\r\n        setPage(page)\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {/*<button onClick={fetchPosts}>GET POSTS</button>*/}\r\n            <MyButton style={{marginTop: 50}} onClick={() => setModal(true)}>\r\n                Add post\r\n            </MyButton>\r\n            <MyModal visible={modal} setVisible={setModal}>\r\n                <PostForm create={createPost}/>\r\n            </MyModal>\r\n            <hr style={{margin: '15px 0'}}/>\r\n            <PostFilter\r\n                setFilter={setFilter}\r\n                filter={filter}/>\r\n            <MySelect label=\"Posts per page\"\r\n                      value={limit}\r\n                      onChange={value => setLimit(value)}\r\n                      options={[\r\n                          {value: 5, name: '5'},\r\n                          {value: 10, name: '10'},\r\n                          {value: 25, name: '25'},\r\n                          {value: -1, name: 'Show all'}\r\n                      ]}/>\r\n            {postError &&\r\n            <h2>ERROR ${postError}</h2>}\r\n            {isPostsLoading &&\r\n            <div style={{display: 'flex', justifyContent: 'center', marginTop: 50}}>\r\n                <Loader/>\r\n            </div>\r\n            }\r\n            <PostsList posts={sortedAndSearchedPosts}\r\n                       title=\"Posts List 1\"\r\n                       remove={removePost}/>\r\n            <div ref={lastElement} style={{height: 20, background: 'red'}}/>\r\n            <Pagination page={page}\r\n                        changePage={changePage}\r\n                        totalPages={totalPages}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Posts;\r\n","import {useEffect, useRef} from \"react\";\r\n\r\nexport const useObserver = (ref, canLoad, isLoading, callback) => {\r\n    const observer=useRef()\r\n\r\n    useEffect(() => {\r\n        if (isLoading) return;\r\n        if (observer.current) observer.current.disconnect();\r\n        let cb = function (entries, observer) {\r\n            if (entries[0].isIntersecting && canLoad) {\r\n                callback()\r\n            }\r\n        }\r\n        observer.current = new IntersectionObserver(cb)\r\n        observer.current.observe(ref.current)\r\n    }, [isLoading])\r\n\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport {useFetching} from \"../hooks/useFetching\";\r\nimport PostService from \"../API/PostService\";\r\nimport Loader from \"../components/UI/loader/Loader\";\r\n\r\nconst PostIdPage = () => {\r\n    const params = useParams()\r\n    const [post, setPost] = useState({})\r\n    const [comments, setComments] = useState([])\r\n\r\n    const [fetchPostsById, isLoading, error] = useFetching(async (id) => {\r\n        const response = await PostService.getbyId(params.id)\r\n        setPost(response.data)\r\n    })\r\n\r\n    const [fetchComments, isCommentsLoading, commentsError] = useFetching(async (id) => {\r\n        const response = await PostService.getCommentsByPostId(params.id)\r\n        setComments(response.data)\r\n    })\r\n    useEffect(() => {\r\n        fetchPostsById(params.id)\r\n        fetchComments(params.id)\r\n    },[])\r\n    return (\r\n        <div>\r\n            <h1>This is post page with id={params.id}</h1>\r\n            {isLoading\r\n                ? <Loader/>\r\n                : <div>{post.id}.  {post.title}</div>\r\n            }\r\n            <h2>Comments</h2>\r\n            {isCommentsLoading\r\n            ?<Loader/>\r\n            :<div>\r\n                    {comments.map(c=>\r\n                    <div style={{marginTop:15}} key={c.id}>\r\n                        <h5>{c.email}</h5>\r\n                        <div>{c.body}</div>\r\n                    </div>)}\r\n                </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostIdPage;","import React, {useContext} from 'react';\r\nimport MyInput from \"../components/UI/input/MyInput\";\r\nimport MyButton from \"../components/UI/button/MyButton\";\r\nimport {AuthContext} from \"../context\";\r\n\r\nconst Login = () => {\r\n    const {setIsAuth} = useContext(AuthContext)\r\n    const login = (e) => {\r\n        e.preventDefault()\r\n        setIsAuth(true)\r\n        localStorage.setItem('auth', 'true')\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login page</h1>\r\n            <form onSubmit={login}>\r\n                <MyInput type=\"text\" placeholder=\"Enter login\"/>\r\n                <MyInput type=\"password\" placeholder=\"Enter password\"/>\r\n                <MyButton>Log in</MyButton>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import About from \"../pages/About\";\r\nimport Posts from \"../pages/Posts\";\r\nimport PostIdPage from \"../pages/PostIdPage\";\r\nimport Login from \"../pages/Login\";\r\n\r\nexport const privateRoutes = [\r\n    {path: '/about', component: <About/>, exact: true},\r\n    {path: '/posts', component: <Posts/>, exact: true},\r\n    {path: '/posts/:id', component: <PostIdPage/>, exact: true},\r\n    // {path: '/error', component: Error, exact: false},\r\n]\r\nexport  const publicRoutes=[\r\n    {path: '/login', component: <Login/>, exact: true},\r\n\r\n]","import React, {useContext} from 'react';\r\nimport {Navigate, Route, Routes} from \"react-router-dom\";\r\nimport {privateRoutes, publicRoutes} from \"../router/routes\";\r\nimport {AuthContext} from \"../context\";\r\nimport Loader from \"./UI/loader/Loader\";\r\n\r\nconst AppRouter = () => {\r\n    const {isAuth,isLoading} = useContext(AuthContext)\r\n    console.log(isAuth)\r\n\r\n    if(isLoading){\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        isAuth\r\n            ?\r\n            <Routes>\r\n                {privateRoutes.map(route =>\r\n                    <Route path={route.path} element={route.component} exact={route.exact} key={route.path}/>\r\n                )}\r\n                <Route path=\"*\" element={<Navigate to=\"/posts\"/>}/>\r\n            </Routes>\r\n            :\r\n            <Routes>\r\n                {publicRoutes.map(route =>\r\n                    <Route path={route.path} element={route.component} exact={route.exact} key={route.path}/>\r\n                )}\r\n                <Route path=\"*\" element={<Navigate to=\"/login\"/>}/>\r\n            </Routes>\r\n    );\r\n};\r\n\r\nexport default AppRouter;","import React, {useEffect, useState} from 'react';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport \"./styles/App.css\"\r\nimport Navbar from \"./components/UI/Navbar/Navbar\";\r\nimport AppRouter from \"./components/AppRouter\";\r\nimport {AuthContext} from \"./context\";\r\n\r\nconst App = () => {\r\n    const [isAuth, setIsAuth] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('auth')) {\r\n            setIsAuth(true)\r\n        }\r\n        setIsLoading(false)\r\n    }, [])\r\n    return (\r\n        <AuthContext.Provider value={{isAuth, setIsAuth, isLoading}}>\r\n            <BrowserRouter>\r\n                <Navbar/>\r\n                <AppRouter/>\r\n            </BrowserRouter>\r\n        </AuthContext.Provider>\r\n    )\r\n        ;\r\n};\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}